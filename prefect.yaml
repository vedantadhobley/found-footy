name: found-footy
prefect-version: 3.0.0

# Build step - no custom build needed since we use pip install -e .
build: null

# Push step - no remote storage for local development  
push: null

# Pull step - code is already installed via pip install -e .
pull: null

# ✅ FIXED: Use empty string instead of null for team_ids
deployments:
  # 1. Daily auto-runner (disabled by default)
  - name: fixtures-flow-daily
    entrypoint: found_footy.flows.fixtures_flow:fixtures_flow
    work_pool:
      name: fixtures-pool
    schedule:
      cron: "5 0 * * *"  # Daily at 00:05 UTC
      timezone: UTC
      active: false  # ✅ DISABLED by default
    parameters:
      team_ids: ""
    tags:
      - fixtures
      - scheduled
      - daily
      - new-approach
    description: "Daily fixtures setup + continuous monitor (DISABLED by default)"

  # 2. Instant manual runner
  - name: fixtures-flow-manual
    entrypoint: found_footy.flows.fixtures_flow:fixtures_flow
    work_pool:
      name: fixtures-pool
    parameters:
      team_ids: ""
    tags:
      - fixtures
      - manual
      - instant
      - new-approach
    description: "Manual fixtures setup + continuous monitor"

  # 3. Twitter flow (simplified)
  - name: twitter-flow
    entrypoint: found_footy.flows.twitter_flow:twitter_flow
    work_pool:
      name: twitter-pool
    parameters: {}
    tags:
      - twitter
      - simplified
    description: "Simplified Twitter flow (triggered by goal detection)"

  # ✅ REMOVED: batch-coordinator (no longer needed)